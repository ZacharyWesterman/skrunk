<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Skrunk Server: application.db.blob Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Skrunk Server
   </div>
   <div id="projectbrief">An all-in-one database solution to help manage data and make my life easier.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceapplication_1_1db_1_1blob.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">application.db.blob Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9a2e272b82a908e4c334e5cdf7af8a16" id="r_a9a2e272b82a908e4c334e5cdf7af8a16"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a9a2e272b82a908e4c334e5cdf7af8a16">init</a> ()</td></tr>
<tr class="separator:a9a2e272b82a908e4c334e5cdf7af8a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec705b2b3ee74895963f79ad92d5c40d" id="r_aec705b2b3ee74895963f79ad92d5c40d"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#aec705b2b3ee74895963f79ad92d5c40d">file_info</a> (str filename)</td></tr>
<tr class="separator:aec705b2b3ee74895963f79ad92d5c40d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ec510f8ad6dc0e68383549bdae7652" id="r_a48ec510f8ad6dc0e68383549bdae7652"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a48ec510f8ad6dc0e68383549bdae7652">save_blob_data</a> (FileStorage file, bool auto_unzip, list tags=[], bool hidden=False, bool ephemeral=False)</td></tr>
<tr class="separator:a48ec510f8ad6dc0e68383549bdae7652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adece90541c04ceb7a1dc7854249ae54f" id="r_adece90541c04ceb7a1dc7854249ae54f"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#adece90541c04ceb7a1dc7854249ae54f">get_tags_from_mime</a> (str mime)</td></tr>
<tr class="separator:adece90541c04ceb7a1dc7854249ae54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713fd8dfdcc9f139c150433e5083fe20" id="r_a713fd8dfdcc9f139c150433e5083fe20"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a713fd8dfdcc9f139c150433e5083fe20">set_mime_from_ext</a> (str mime, str ext)</td></tr>
<tr class="separator:a713fd8dfdcc9f139c150433e5083fe20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d24cb070b1ec7f1dd7f310fc9352da" id="r_a94d24cb070b1ec7f1dd7f310fc9352da"><td class="memItemLeft" align="right" valign="top">tuple[str, str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a94d24cb070b1ec7f1dd7f310fc9352da">create_blob</a> (str name, list tags=[], bool hidden=False, bool ephemeral=False)</td></tr>
<tr class="separator:a94d24cb070b1ec7f1dd7f310fc9352da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614a761bd8ab48e56c05c0fc58080f30" id="r_a614a761bd8ab48e56c05c0fc58080f30"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a614a761bd8ab48e56c05c0fc58080f30">mark_as_completed</a> (str id, int size, str md5sum)</td></tr>
<tr class="separator:a614a761bd8ab48e56c05c0fc58080f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25b4780c5fa0d167968fee1f9d841c3" id="r_ac25b4780c5fa0d167968fee1f9d841c3"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#ac25b4780c5fa0d167968fee1f9d841c3">build_blob_query</a> (<a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a> filter, ObjectId user_id)</td></tr>
<tr class="separator:ac25b4780c5fa0d167968fee1f9d841c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bfe143a2c2d34f254ed67e44053fb22" id="r_a8bfe143a2c2d34f254ed67e44053fb22"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a8bfe143a2c2d34f254ed67e44053fb22">get_blobs</a> (<a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a> filter, int start, int count, <a class="el" href="classapplication_1_1objects_1_1Sorting.html">Sorting</a> sorting, ObjectId user_id)</td></tr>
<tr class="separator:a8bfe143a2c2d34f254ed67e44053fb22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14efc7754ba1510e36881ab63c475598" id="r_a14efc7754ba1510e36881ab63c475598"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a14efc7754ba1510e36881ab63c475598">count_blobs</a> (<a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a> filter, ObjectId user_id)</td></tr>
<tr class="separator:a14efc7754ba1510e36881ab63c475598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3bfd1a4e1a96f277a9321ed28608263" id="r_ae3bfd1a4e1a96f277a9321ed28608263"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#ae3bfd1a4e1a96f277a9321ed28608263">sum_blob_size</a> (<a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a> filter, ObjectId user_id)</td></tr>
<tr class="separator:ae3bfd1a4e1a96f277a9321ed28608263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf84805612e45bdd71888a4854ce238a" id="r_acf84805612e45bdd71888a4854ce238a"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#acf84805612e45bdd71888a4854ce238a">get_uid</a> ()</td></tr>
<tr class="separator:acf84805612e45bdd71888a4854ce238a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055deeaf742fcb162a3b1ebbca4dc456" id="r_a055deeaf742fcb162a3b1ebbca4dc456"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a055deeaf742fcb162a3b1ebbca4dc456">zip_matching_blobs</a> (<a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a> filter, ObjectId user_id, str blob_zip_id)</td></tr>
<tr class="separator:a055deeaf742fcb162a3b1ebbca4dc456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eacb6e11a664d8bc282b3349a510c17" id="r_a1eacb6e11a664d8bc282b3349a510c17"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a1eacb6e11a664d8bc282b3349a510c17">cancel_zip</a> (str blob_zip_id)</td></tr>
<tr class="separator:a1eacb6e11a664d8bc282b3349a510c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21ded16136bb1cea5cf1a3a15883d8f" id="r_ad21ded16136bb1cea5cf1a3a15883d8f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#ad21ded16136bb1cea5cf1a3a15883d8f">get_zip_progress</a> (str blob_zip_id)</td></tr>
<tr class="separator:ad21ded16136bb1cea5cf1a3a15883d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e64cf7bc0c2b304d57f5da2d8236c1" id="r_a97e64cf7bc0c2b304d57f5da2d8236c1"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a97e64cf7bc0c2b304d57f5da2d8236c1">get_blob_data</a> (str id)</td></tr>
<tr class="separator:a97e64cf7bc0c2b304d57f5da2d8236c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd50649ae6abe85eeb44ee0cdca881d" id="r_a1cd50649ae6abe85eeb44ee0cdca881d"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a1cd50649ae6abe85eeb44ee0cdca881d">delete_blob</a> (str blob_id)</td></tr>
<tr class="separator:a1cd50649ae6abe85eeb44ee0cdca881d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e7ad741bddbf750213240f472233d3" id="r_a09e7ad741bddbf750213240f472233d3"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a09e7ad741bddbf750213240f472233d3">set_blob_tags</a> (str blob_id, list tags)</td></tr>
<tr class="separator:a09e7ad741bddbf750213240f472233d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8243731ccfbadb5e4c764320c4ab5f" id="r_a0f8243731ccfbadb5e4c764320c4ab5f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a0f8243731ccfbadb5e4c764320c4ab5f">set_blob_ephemeral</a> (str blob_id, bool ephemeral)</td></tr>
<tr class="separator:a0f8243731ccfbadb5e4c764320c4ab5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b944911e192c0b8c055465954a29f53" id="r_a7b944911e192c0b8c055465954a29f53"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a7b944911e192c0b8c055465954a29f53">create_preview_model</a> (str <a class="el" href="namespaceapplication_1_1db_1_1blob.html#ac9fa1469d79e19d76c27c9dbc9181a36">blob_path</a>, str preview_id)</td></tr>
<tr class="separator:a7b944911e192c0b8c055465954a29f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245dbb6ddfb2b2fb954c740f5ce4a0b2" id="r_a245dbb6ddfb2b2fb954c740f5ce4a0b2"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a245dbb6ddfb2b2fb954c740f5ce4a0b2">create_preview_video</a> (str <a class="el" href="namespaceapplication_1_1db_1_1blob.html#ac9fa1469d79e19d76c27c9dbc9181a36">blob_path</a>, str preview_id)</td></tr>
<tr class="separator:a245dbb6ddfb2b2fb954c740f5ce4a0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010f7a264643a3fa6d9861b1a4c62d90" id="r_a010f7a264643a3fa6d9861b1a4c62d90"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a010f7a264643a3fa6d9861b1a4c62d90">set_blob_hidden</a> (str blob_id, bool hidden)</td></tr>
<tr class="separator:a010f7a264643a3fa6d9861b1a4c62d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ee7fffc0c782636f71d689e5a71d25" id="r_ae2ee7fffc0c782636f71d689e5a71d25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#ae2ee7fffc0c782636f71d689e5a71d25">count_tag_uses</a> (str tag, list[str] users)</td></tr>
<tr class="separator:ae2ee7fffc0c782636f71d689e5a71d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcfa2f65e17d893de679db2b37adce6" id="r_aafcfa2f65e17d893de679db2b37adce6"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#aafcfa2f65e17d893de679db2b37adce6">add_reference</a> (str id)</td></tr>
<tr class="separator:aafcfa2f65e17d893de679db2b37adce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145d7badf205c23c2c272855fe068170" id="r_a145d7badf205c23c2c272855fe068170"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1blob.html#a145d7badf205c23c2c272855fe068170">remove_reference</a> (str id)</td></tr>
<tr class="separator:a145d7badf205c23c2c272855fe068170"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3308dd1218d9a9f9061060c1831aefcf" id="r_a3308dd1218d9a9f9061060c1831aefcf"><td class="memItemLeft" align="right" valign="top"><a id="a3308dd1218d9a9f9061060c1831aefcf" name="a3308dd1218d9a9f9061060c1831aefcf"></a>
Collection&#160;</td><td class="memItemRight" valign="bottom"><b>db</b> = None</td></tr>
<tr class="memdesc:a3308dd1218d9a9f9061060c1831aefcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to the Blob collection in the database. <br /></td></tr>
<tr class="separator:a3308dd1218d9a9f9061060c1831aefcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9fa1469d79e19d76c27c9dbc9181a36" id="r_ac9fa1469d79e19d76c27c9dbc9181a36"><td class="memItemLeft" align="right" valign="top"><a id="ac9fa1469d79e19d76c27c9dbc9181a36" name="ac9fa1469d79e19d76c27c9dbc9181a36"></a>
str&#160;</td><td class="memItemRight" valign="bottom"><b>blob_path</b> = None</td></tr>
<tr class="memdesc:ac9fa1469d79e19d76c27c9dbc9181a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the blob storage directory. <br /></td></tr>
<tr class="separator:ac9fa1469d79e19d76c27c9dbc9181a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a68da6c3a89b98c96a95cb8340f82d" id="r_a05a68da6c3a89b98c96a95cb8340f82d"><td class="memItemLeft" align="right" valign="top"><a id="a05a68da6c3a89b98c96a95cb8340f82d" name="a05a68da6c3a89b98c96a95cb8340f82d"></a>
dict&#160;</td><td class="memItemRight" valign="bottom"><b>_zip_progress</b> = {}</td></tr>
<tr class="memdesc:a05a68da6c3a89b98c96a95cb8340f82d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A dictionary to store the progress of ZIP operations. <br /></td></tr>
<tr class="separator:a05a68da6c3a89b98c96a95cb8340f82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">application.db.blob</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aafcfa2f65e17d893de679db2b37adce6" name="aafcfa2f65e17d893de679db2b37adce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafcfa2f65e17d893de679db2b37adce6">&#9670;&#160;</a></span>add_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.blob.add_reference </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Increment the 'references' field of a document in the database by 1.

    Args:
        id (str): The unique identifier of the document to update.

    Returns:
        None</pre> 
</div>
</div>
<a id="ac25b4780c5fa0d167968fee1f9d841c3" name="ac25b4780c5fa0d167968fee1f9d841c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25b4780c5fa0d167968fee1f9d841c3">&#9670;&#160;</a></span>build_blob_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.build_blob_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectId&#160;</td>
          <td class="paramname"><em>user_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Builds a MongoDB query for searching blobs based on the provided filter and user ID.

    Args:
        filter (BlobSearchFilter): A filter object containing various search criteria.
        user_id (ObjectId): The ID of the user making the query.

    Returns:
        dict: A MongoDB query dictionary constructed based on the provided filter and user ID.

    The filter object can contain the following keys:
        - tag_expr (str): A tag expression to filter blobs by tags.
        - creator (str or list): A username or a list of usernames to filter blobs by their creators.
        - begin_date (datetime): The start date to filter blobs created after this date.
        - end_date (datetime): The end date to filter blobs created before this date.
        - name (str): A regex pattern to filter blobs by their names.
        - ephemeral (bool): A boolean to filter blobs by their ephemeral status.

    The query will always include blobs that are either not hidden or created by the user.</pre> 
</div>
</div>
<a id="a1eacb6e11a664d8bc282b3349a510c17" name="a1eacb6e11a664d8bc282b3349a510c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eacb6e11a664d8bc282b3349a510c17">&#9670;&#160;</a></span>cancel_zip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.cancel_zip </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_zip_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Cancels the zip operation for the given blob_zip_id.

    Args:
        blob_zip_id (str): The ID of the blob zip operation to cancel.

    Raises:
        BlobDoesNotExistError: If the blob_zip_id does not exist in the _zip_progress.

    Returns:
        dict: A dictionary containing the progress and item of the zip operation.</pre> 
</div>
</div>
<a id="a14efc7754ba1510e36881ab63c475598" name="a14efc7754ba1510e36881ab63c475598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14efc7754ba1510e36881ab63c475598">&#9670;&#160;</a></span>count_blobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int application.db.blob.count_blobs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectId&#160;</td>
          <td class="paramname"><em>user_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Count the number of blobs in the database that match the given filter and user ID.

    Args:
        filter (BlobSearchFilter): The filter criteria to apply to the blob search.
        user_id (ObjectId): The ID of the user whose blobs are being counted.

    Returns:
        int: The number of blobs that match the filter criteria for the given user.</pre> 
</div>
</div>
<a id="ae2ee7fffc0c782636f71d689e5a71d25" name="ae2ee7fffc0c782636f71d689e5a71d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ee7fffc0c782636f71d689e5a71d25">&#9670;&#160;</a></span>count_tag_uses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int application.db.blob.count_tag_uses </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list[str]&#160;</td>
          <td class="paramname"><em>users</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Count the number of documents in the database that contain a specific tag and are created by any of the specified users.

    Args:
        tag (str): The tag to search for in the documents.
        users (list[str]): A list of user identifiers to filter the documents by their creators.

    Returns:
        int: The count of documents that match the specified tag and creators.</pre> 
</div>
</div>
<a id="a94d24cb070b1ec7f1dd7f310fc9352da" name="a94d24cb070b1ec7f1dd7f310fc9352da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d24cb070b1ec7f1dd7f310fc9352da">&#9670;&#160;</a></span>create_blob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> tuple[str, str] application.db.blob.create_blob </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list &#160;</td>
          <td class="paramname"><em>tags</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>hidden</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>ephemeral</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Creates a new blob entry in the database.

    Args:
        name (str): The name of the blob, typically the filename.
        tags (list, optional): A list of tags associated with the blob. Defaults to an empty list.
        hidden (bool, optional): A flag indicating if the blob should be hidden. Defaults to False.
        ephemeral (bool, optional): A flag indicating if the blob is ephemeral. Defaults to False.

    Returns:
        tuple[str, str]: A tuple containing the inserted blob's ID and the file extension.</pre> 
</div>
</div>
<a id="a7b944911e192c0b8c055465954a29f53" name="a7b944911e192c0b8c055465954a29f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b944911e192c0b8c055465954a29f53">&#9670;&#160;</a></span>create_preview_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.blob.create_preview_model </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>preview_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Creates a preview model from a blob and updates the database with the preview information.

    Args:
        blob_path (str): The file path to the blob.
        preview_id (str): The unique identifier for the preview.

    Returns:
        None</pre> 
</div>
</div>
<a id="a245dbb6ddfb2b2fb954c740f5ce4a0b2" name="a245dbb6ddfb2b2fb954c740f5ce4a0b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a245dbb6ddfb2b2fb954c740f5ce4a0b2">&#9670;&#160;</a></span>create_preview_video()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.blob.create_preview_video </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>preview_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Creates a preview video from the first frame of the given video blob and updates the database with the preview information.

    Args:
        blob_path (str): The file path to the video blob.
        preview_id (str): The unique identifier for the preview.

    Returns:
        None</pre> 
</div>
</div>
<a id="a1cd50649ae6abe85eeb44ee0cdca881d" name="a1cd50649ae6abe85eeb44ee0cdca881d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd50649ae6abe85eeb44ee0cdca881d">&#9670;&#160;</a></span>delete_blob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.delete_blob </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Deletes a blob from the database and the file system.

    This function performs the following steps:
    1. Retrieves the blob data from the database using the provided blob ID.
    2. Deletes the blob file from the file system.
    3. Deletes the preview file associated with the blob, if it exists.
    4. Attempts to delete the parent directories if they are empty.
    5. Deletes the blob entry from the database.

    Args:
        blob_id (str): The ID of the blob to be deleted.

    Returns:
        dict: The data of the deleted blob.

    Raises:
        BlobDoesNotExistError: If the blob with the given ID does not exist.</pre> 
</div>
</div>
<a id="aec705b2b3ee74895963f79ad92d5c40d" name="aec705b2b3ee74895963f79ad92d5c40d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec705b2b3ee74895963f79ad92d5c40d">&#9670;&#160;</a></span>file_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str application.db.blob.file_info </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Calculate the MD5 checksum and size of a file.

    Args:
        filename (str): The path to the file.

    Returns:
        tuple: A tuple containing the size of the file in bytes (int) and the MD5 checksum (str).</pre> 
</div>
</div>
<a id="a97e64cf7bc0c2b304d57f5da2d8236c1" name="a97e64cf7bc0c2b304d57f5da2d8236c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97e64cf7bc0c2b304d57f5da2d8236c1">&#9670;&#160;</a></span>get_blob_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.get_blob_data </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve blob data from the database by its ID.

    Args:
        id (str): The ID of the blob to retrieve.

    Returns:
        dict: A dictionary containing the blob data. If the blob exists, the dictionary
            will include the blob's ID and the creator's username. If the creator does
            not exist, the creator field will contain the creator's ID as a string.

    Raises:
        exceptions.BlobDoesNotExistError: If the blob with the given ID does not exist.</pre> 
</div>
</div>
<a id="a8bfe143a2c2d34f254ed67e44053fb22" name="a8bfe143a2c2d34f254ed67e44053fb22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bfe143a2c2d34f254ed67e44053fb22">&#9670;&#160;</a></span>get_blobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list application.db.blob.get_blobs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classapplication_1_1objects_1_1Sorting.html">Sorting</a>&#160;</td>
          <td class="paramname"><em>sorting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectId&#160;</td>
          <td class="paramname"><em>user_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve a list of blobs from the database based on the provided filter, pagination, and sorting options.

    Args:
        filter (BlobSearchFilter): The filter criteria to apply to the blob search.
        start (int): The starting index for pagination.
        count (int): The number of blobs to retrieve.
        sorting (Sorting): The sorting options for the blobs.
        user_id (ObjectId): The ID of the user performing the search.

    Returns:
        list: A list of blobs matching the search criteria.</pre> 
</div>
</div>
<a id="adece90541c04ceb7a1dc7854249ae54f" name="adece90541c04ceb7a1dc7854249ae54f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adece90541c04ceb7a1dc7854249ae54f">&#9670;&#160;</a></span>get_tags_from_mime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list application.db.blob.get_tags_from_mime </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>mime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Extracts tags from a MIME type string.

    Args:
        mime (str): The MIME type string to be split into tags.

    Returns:
        list: A list of tags obtained by splitting the MIME type string by '/'.</pre> 
</div>
</div>
<a id="acf84805612e45bdd71888a4854ce238a" name="acf84805612e45bdd71888a4854ce238a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf84805612e45bdd71888a4854ce238a">&#9670;&#160;</a></span>get_uid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str application.db.blob.get_uid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Generate a unique identifier (UID).

    This function generates a new unique identifier using the UUID version 4 standard,
    which creates a random UUID.

    Returns:
        str: A string representation of the generated UUID.</pre> 
</div>
</div>
<a id="ad21ded16136bb1cea5cf1a3a15883d8f" name="ad21ded16136bb1cea5cf1a3a15883d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21ded16136bb1cea5cf1a3a15883d8f">&#9670;&#160;</a></span>get_zip_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.get_zip_progress </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_zip_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve the progress of a zip operation by its ID.

    Args:
        blob_zip_id (str): The ID of the zip operation.

    Returns:
        dict: A dictionary containing the progress and the current item being processed.

    Raises:
        BlobDoesNotExistError: If the provided blob_zip_id does not exist in the progress tracking.</pre> 
</div>
</div>
<a id="a9a2e272b82a908e4c334e5cdf7af8a16" name="a9a2e272b82a908e4c334e5cdf7af8a16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2e272b82a908e4c334e5cdf7af8a16">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.blob.init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Initializes the blob module by setting the global blob_path and deleting
    all ephemeral files that are not referred to by any data.

    Note:
        This function should be called on startup, and regular restarts should
        be scheduled to ensure that ephemeral files are cleaned up.</pre> 
</div>
</div>
<a id="a614a761bd8ab48e56c05c0fc58080f30" name="a614a761bd8ab48e56c05c0fc58080f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a614a761bd8ab48e56c05c0fc58080f30">&#9670;&#160;</a></span>mark_as_completed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.blob.mark_as_completed </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>md5sum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Marks a blob as completed in the database.

    Args:
        id (str): The unique identifier of the blob.
        size (int): The size of the blob in bytes.
        md5sum (str): The MD5 checksum of the blob.

    Returns:
        None</pre> 
</div>
</div>
<a id="a145d7badf205c23c2c272855fe068170" name="a145d7badf205c23c2c272855fe068170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a145d7badf205c23c2c272855fe068170">&#9670;&#160;</a></span>remove_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.blob.remove_reference </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Decrements the reference count of a database object identified by the given ID.

    If the provided ID is not a valid ObjectId, the function returns immediately.
    Otherwise, it decrements the 'references' field of the object by 1 and ensures
    that the 'references' field does not go below 0.

    Args:
        id (str): The ID of the database object whose reference count is to be decremented.

    Returns:
        None</pre> 
</div>
</div>
<a id="a48ec510f8ad6dc0e68383549bdae7652" name="a48ec510f8ad6dc0e68383549bdae7652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ec510f8ad6dc0e68383549bdae7652">&#9670;&#160;</a></span>save_blob_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list application.db.blob.save_blob_data </td>
          <td>(</td>
          <td class="paramtype">FileStorage&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>auto_unzip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list &#160;</td>
          <td class="paramname"><em>tags</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>hidden</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>ephemeral</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Save blob data to storage and optionally unzip if the file is a zip archive.

    Args:
        file (FileStorage): The file to be saved.
        auto_unzip (bool): If True, automatically unzip the file if it is a zip archive.
        tags (list, optional): List of tags to associate with the blob. Defaults to [].
        hidden (bool, optional): If True, mark the blob as hidden. Defaults to False.
        ephemeral (bool, optional): If True, mark the blob as ephemeral. Defaults to False.

    Returns:
        list: A list of dictionaries containing the unique ID and file extension of the uploaded blobs.</pre> 
</div>
</div>
<a id="a0f8243731ccfbadb5e4c764320c4ab5f" name="a0f8243731ccfbadb5e4c764320c4ab5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8243731ccfbadb5e4c764320c4ab5f">&#9670;&#160;</a></span>set_blob_ephemeral()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.set_blob_ephemeral </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ephemeral</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Sets the 'ephemeral' status of a blob in the database and returns the updated blob data.

    Args:
        blob_id (str): The unique identifier of the blob.
        ephemeral (bool): The new ephemeral status to set for the blob.

    Returns:
        dict: The updated blob data with the new ephemeral status.</pre> 
</div>
</div>
<a id="a010f7a264643a3fa6d9861b1a4c62d90" name="a010f7a264643a3fa6d9861b1a4c62d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010f7a264643a3fa6d9861b1a4c62d90">&#9670;&#160;</a></span>set_blob_hidden()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.set_blob_hidden </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>hidden</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Set the hidden status of a blob in the database.

    Args:
        blob_id (str): The unique identifier of the blob.
        hidden (bool): The hidden status to set for the blob.

    Returns:
        dict: The updated blob data.

    Raises:
        BlobDoesNotExistError: If the blob with the given ID does not exist.</pre> 
</div>
</div>
<a id="a09e7ad741bddbf750213240f472233d3" name="a09e7ad741bddbf750213240f472233d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09e7ad741bddbf750213240f472233d3">&#9670;&#160;</a></span>set_blob_tags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.set_blob_tags </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list&#160;</td>
          <td class="paramname"><em>tags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Set tags for a blob in the database.

    This function updates the tags for a blob identified by its ID. If the blob does not exist,
    it raises a BlobDoesNotExistError. The tags are converted to lowercase and duplicates are removed.

    Args:
        blob_id (str): The ID of the blob to update.
        tags (list): A list of tags to set for the blob.

    Returns:
        dict: The updated blob data with the new tags.

    Raises:
        BlobDoesNotExistError: If the blob with the specified ID does not exist.</pre> 
</div>
</div>
<a id="a713fd8dfdcc9f139c150433e5083fe20" name="a713fd8dfdcc9f139c150433e5083fe20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a713fd8dfdcc9f139c150433e5083fe20">&#9670;&#160;</a></span>set_mime_from_ext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str application.db.blob.set_mime_from_ext </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>mime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Sets the MIME type based on the file extension.

    Args:
        mime (str): The initial MIME type.
        ext (str): The file extension.

    Returns:
        str: The updated MIME type based on the file extension.</pre> 
</div>
</div>
<a id="ae3bfd1a4e1a96f277a9321ed28608263" name="ae3bfd1a4e1a96f277a9321ed28608263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3bfd1a4e1a96f277a9321ed28608263">&#9670;&#160;</a></span>sum_blob_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int application.db.blob.sum_blob_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectId&#160;</td>
          <td class="paramname"><em>user_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Calculate the total size of blobs that match the given filter for a specific user.

    Args:
        filter (BlobSearchFilter): The filter criteria to search for blobs.
        user_id (ObjectId): The ID of the user whose blobs are being queried.

    Returns:
        int: The total size of the blobs that match the filter. Returns 0 if the user does not exist or no blobs match the filter.</pre> 
</div>
</div>
<a id="a055deeaf742fcb162a3b1ebbca4dc456" name="a055deeaf742fcb162a3b1ebbca4dc456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055deeaf742fcb162a3b1ebbca4dc456">&#9670;&#160;</a></span>zip_matching_blobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.blob.zip_matching_blobs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapplication_1_1objects_1_1BlobSearchFilter.html">BlobSearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectId&#160;</td>
          <td class="paramname"><em>user_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>blob_zip_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Create a ZIP archive of blobs that match the given filter and user ID.

    Args:
        filter (BlobSearchFilter): The filter criteria to match blobs.
        user_id (ObjectId): The ID of the user requesting the ZIP archive.
        blob_zip_id (str): A unique identifier for the ZIP archive.

    Returns:
        dict: Information about the created ZIP blob, including its ID.

    Raises:
        exceptions.BlobDoesNotExistError: If the created ZIP blob does not exist in the database.</pre> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceapplication.html">application</a></li><li class="navelem"><a class="el" href="namespaceapplication_1_1db.html">db</a></li><li class="navelem"><a class="el" href="namespaceapplication_1_1db_1_1blob.html">blob</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
