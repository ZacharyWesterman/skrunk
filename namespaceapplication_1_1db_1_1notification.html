<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Skrunk Server: application.db.notification Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Skrunk Server
   </div>
   <div id="projectbrief">An all-in-one database solution to help manage data and make my life easier.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceapplication_1_1db_1_1notification.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">application.db.notification Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa1834f9d510fb6d71346ecad8817276b" id="r_aa1834f9d510fb6d71346ecad8817276b"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#aa1834f9d510fb6d71346ecad8817276b">get_user_from_notif</a> (str item_id)</td></tr>
<tr class="separator:aa1834f9d510fb6d71346ecad8817276b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd2b98d40b9d4e9c642cc60aaee5fec" id="r_a4fd2b98d40b9d4e9c642cc60aaee5fec"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a4fd2b98d40b9d4e9c642cc60aaee5fec">get_public_key</a> ()</td></tr>
<tr class="separator:a4fd2b98d40b9d4e9c642cc60aaee5fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e2e9fca37c810a6269dd1f1df8c854" id="r_ae1e2e9fca37c810a6269dd1f1df8c854"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#ae1e2e9fca37c810a6269dd1f1df8c854">get_subscriptions</a> (str username)</td></tr>
<tr class="separator:ae1e2e9fca37c810a6269dd1f1df8c854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b706a772f78c65ede157e4c41715d43" id="r_a1b706a772f78c65ede157e4c41715d43"><td class="memItemLeft" align="right" valign="top">dict|None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a1b706a772f78c65ede157e4c41715d43">get_subscription</a> (str auth)</td></tr>
<tr class="separator:a1b706a772f78c65ede157e4c41715d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f76692b38e38613413813c735e7834" id="r_a97f76692b38e38613413813c735e7834"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a97f76692b38e38613413813c735e7834">create_subscription</a> (str username, dict subscription_token)</td></tr>
<tr class="separator:a97f76692b38e38613413813c735e7834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35eded1d64208b28f92724bdff52805d" id="r_a35eded1d64208b28f92724bdff52805d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a35eded1d64208b28f92724bdff52805d">delete_subscriptions</a> (str username)</td></tr>
<tr class="separator:a35eded1d64208b28f92724bdff52805d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace326a53ab1b52ab845f152500ff66a3" id="r_ace326a53ab1b52ab845f152500ff66a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#ace326a53ab1b52ab845f152500ff66a3">delete_subscription</a> (str auth)</td></tr>
<tr class="separator:ace326a53ab1b52ab845f152500ff66a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2def0cfb7fe22c28f8094ecd00c71959" id="r_a2def0cfb7fe22c28f8094ecd00c71959"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a2def0cfb7fe22c28f8094ecd00c71959">mark_as_read</a> (str item_id)</td></tr>
<tr class="separator:a2def0cfb7fe22c28f8094ecd00c71959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b23d6feb208341b0f643da244d9f76" id="r_a01b23d6feb208341b0f643da244d9f76"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a01b23d6feb208341b0f643da244d9f76">mark_all_as_read</a> (str username)</td></tr>
<tr class="separator:a01b23d6feb208341b0f643da244d9f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88ee8e05f116258c09342f65bfe7b7d" id="r_ac88ee8e05f116258c09342f65bfe7b7d"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#ac88ee8e05f116258c09342f65bfe7b7d">get_notifications</a> (str username, bool read, int start, int count)</td></tr>
<tr class="separator:ac88ee8e05f116258c09342f65bfe7b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a5ae1eed5410c62c0b7c9fa65f03eb" id="r_a78a5ae1eed5410c62c0b7c9fa65f03eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a78a5ae1eed5410c62c0b7c9fa65f03eb">count_notifications</a> (str username, bool read)</td></tr>
<tr class="separator:a78a5ae1eed5410c62c0b7c9fa65f03eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3461f8b0e76893fdb33dbcc78fe7654d" id="r_a3461f8b0e76893fdb33dbcc78fe7654d"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#a3461f8b0e76893fdb33dbcc78fe7654d">send</a> (str title, str body, str username, *str category='general', bool read=False)</td></tr>
<tr class="separator:a3461f8b0e76893fdb33dbcc78fe7654d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abeff543fa84d170a715e29bcff2535f5" id="r_abeff543fa84d170a715e29bcff2535f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapplication_1_1db_1_1notification.html#abeff543fa84d170a715e29bcff2535f5">encoding</a></td></tr>
<tr class="memdesc:abeff543fa84d170a715e29bcff2535f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The VAPID private key used for sending notifications.  <br /></td></tr>
<tr class="separator:abeff543fa84d170a715e29bcff2535f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f7a7141ee6d25dd63bc9b272ba3f49" id="r_a34f7a7141ee6d25dd63bc9b272ba3f49"><td class="memItemLeft" align="right" valign="top"><a id="a34f7a7141ee6d25dd63bc9b272ba3f49" name="a34f7a7141ee6d25dd63bc9b272ba3f49"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>VAPID_PRIVATE_KEY</b> = fp.readline().strip('\n')</td></tr>
<tr class="separator:a34f7a7141ee6d25dd63bc9b272ba3f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ddd334cdd805966a29806a5e4d5247" id="r_a05ddd334cdd805966a29806a5e4d5247"><td class="memItemLeft" align="right" valign="top"><a id="a05ddd334cdd805966a29806a5e4d5247" name="a05ddd334cdd805966a29806a5e4d5247"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>VAPID_PUBLIC_KEY</b> = fp.read().strip('\n')</td></tr>
<tr class="separator:a05ddd334cdd805966a29806a5e4d5247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f06f9ffeb385f82153fb20e6175b740" id="r_a3f06f9ffeb385f82153fb20e6175b740"><td class="memItemLeft" align="right" valign="top"><a id="a3f06f9ffeb385f82153fb20e6175b740" name="a3f06f9ffeb385f82153fb20e6175b740"></a>
Database&#160;</td><td class="memItemRight" valign="bottom"><b>db</b> = None</td></tr>
<tr class="memdesc:a3f06f9ffeb385f82153fb20e6175b740"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to the database object. <br /></td></tr>
<tr class="separator:a3f06f9ffeb385f82153fb20e6175b740"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">application.db.notification</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a78a5ae1eed5410c62c0b7c9fa65f03eb" name="a78a5ae1eed5410c62c0b7c9fa65f03eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78a5ae1eed5410c62c0b7c9fa65f03eb">&#9670;&#160;</a></span>count_notifications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int application.db.notification.count_notifications </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Count the number of notifications for a given user based on their read status.

    Args:
        username (str): The username of the user whose notifications are to be counted.
        read (bool): The read status of the notifications to be counted (True for read, False for unread).

    Returns:
        int: The number of notifications that match the given criteria.</pre> 
</div>
</div>
<a id="a97f76692b38e38613413813c735e7834" name="a97f76692b38e38613413813c735e7834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f76692b38e38613413813c735e7834">&#9670;&#160;</a></span>create_subscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.notification.create_subscription </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict&#160;</td>
          <td class="paramname"><em>subscription_token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Create a notification subscription for a user.

    Args:
        username (str): The username of the user.
        subscription_token (dict): A dictionary containing the subscription token details.
            Expected keys are:
                - 'endpoint' (str): The endpoint URL of the subscription.
                - 'expirationTime' (int or None): The expiration time of the subscription.
                - 'keys' (dict): A dictionary containing the keys for the subscription.
                    Expected keys are:
                        - 'p256dh' (str): The p256dh key.
                        - 'auth' (str): The auth key.

    Raises:
        exceptions.InvalidSubscriptionToken: If the subscription token is invalid.</pre> 
</div>
</div>
<a id="ace326a53ab1b52ab845f152500ff66a3" name="ace326a53ab1b52ab845f152500ff66a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace326a53ab1b52ab845f152500ff66a3">&#9670;&#160;</a></span>delete_subscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int application.db.notification.delete_subscription </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>auth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Deletes all notification subscriptions from the database that match the given authentication token.

    Args:
        auth (str): The authentication token used to identify subscriptions to delete.

    Returns:
        int: The number of subscriptions deleted.</pre> 
</div>
</div>
<a id="a35eded1d64208b28f92724bdff52805d" name="a35eded1d64208b28f92724bdff52805d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35eded1d64208b28f92724bdff52805d">&#9670;&#160;</a></span>delete_subscriptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int application.db.notification.delete_subscriptions </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Delete all notification subscription records for a given user.

    Args:
        username (str): The username of the user whose subscriptions are to be deleted.

    Returns:
        int: The number of subscription records that were deleted.</pre> 
</div>
</div>
<a id="ac88ee8e05f116258c09342f65bfe7b7d" name="ac88ee8e05f116258c09342f65bfe7b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88ee8e05f116258c09342f65bfe7b7d">&#9670;&#160;</a></span>get_notifications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list application.db.notification.get_notifications </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve a list of notifications for a given user.

    Args:
        username (str): The username of the recipient.
        read (bool): Filter notifications based on their read status.
        start (int): The starting index for pagination.
        count (int): The number of notifications to retrieve.

    Returns:
        list: A list of notifications, each represented as a dictionary.</pre> 
</div>
</div>
<a id="a4fd2b98d40b9d4e9c642cc60aaee5fec" name="a4fd2b98d40b9d4e9c642cc60aaee5fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd2b98d40b9d4e9c642cc60aaee5fec">&#9670;&#160;</a></span>get_public_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str application.db.notification.get_public_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve the VAPID public key.

    Returns:
        str: The VAPID public key as a string.</pre> 
</div>
</div>
<a id="a1b706a772f78c65ede157e4c41715d43" name="a1b706a772f78c65ede157e4c41715d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b706a772f78c65ede157e4c41715d43">&#9670;&#160;</a></span>get_subscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict | None application.db.notification.get_subscription </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>auth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve a notification subscription token from the database using the provided authentication key.

    Args:
        auth (str): The authentication key used to find the subscription.

    Returns:
        dict | None: The subscription token if found, otherwise None.</pre> 
</div>
</div>
<a id="ae1e2e9fca37c810a6269dd1f1df8c854" name="ae1e2e9fca37c810a6269dd1f1df8c854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e2e9fca37c810a6269dd1f1df8c854">&#9670;&#160;</a></span>get_subscriptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list application.db.notification.get_subscriptions </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve a list of notification subscription tokens for a given user.

    Args:
        username (str): The username of the user whose subscriptions are to be retrieved.

    Returns:
        list: A list of subscription tokens associated with the user.</pre> 
</div>
</div>
<a id="aa1834f9d510fb6d71346ecad8817276b" name="aa1834f9d510fb6d71346ecad8817276b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1834f9d510fb6d71346ecad8817276b">&#9670;&#160;</a></span>get_user_from_notif()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.notification.get_user_from_notif </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>item_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Retrieve user information based on a notification ID.

    Args:
        item_id (str): The ID of the notification.

    Returns:
        dict: A dictionary containing user information if found, otherwise an empty dictionary.</pre> 
</div>
</div>
<a id="a01b23d6feb208341b0f643da244d9f76" name="a01b23d6feb208341b0f643da244d9f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b23d6feb208341b0f643da244d9f76">&#9670;&#160;</a></span>mark_all_as_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.notification.mark_all_as_read </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Marks all notifications as read for a given user.

    Args:
        username (str): The username of the user whose notifications are to be marked as read.

    Returns:
        None</pre> 
</div>
</div>
<a id="a2def0cfb7fe22c28f8094ecd00c71959" name="a2def0cfb7fe22c28f8094ecd00c71959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2def0cfb7fe22c28f8094ecd00c71959">&#9670;&#160;</a></span>mark_as_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None application.db.notification.mark_as_read </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>item_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Marks a notification as read in the database.

    Args:
        item_id (str): The unique identifier of the notification to be marked as read.

    Returns:
        None</pre> 
</div>
</div>
<a id="a3461f8b0e76893fdb33dbcc78fe7654d" name="a3461f8b0e76893fdb33dbcc78fe7654d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3461f8b0e76893fdb33dbcc78fe7654d">&#9670;&#160;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict application.db.notification.send </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>body</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*str &#160;</td>
          <td class="paramname"><em>category</em> = <code>'general'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>read</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Send a notification to a user and log the notification in the database.

    Args:
        title (str): The title of the notification.
        body (str): The body content of the notification.
        username (str): The username of the recipient.
        category (str, optional): The category of the notification. Defaults to 'general'.
        read (bool, optional): Whether the notification is marked as read. Defaults to False.

    Returns:
        dict: A dictionary containing the logged notification data.

    Raises:
        exceptions.MissingConfig: If the admin email configuration is missing.</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abeff543fa84d170a715e29bcff2535f5" name="abeff543fa84d170a715e29bcff2535f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeff543fa84d170a715e29bcff2535f5">&#9670;&#160;</a></span>encoding</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">application.db.notification.encoding</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The VAPID private key used for sending notifications. </p>
<p>The VAPID public key used for sending notifications. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceapplication.html">application</a></li><li class="navelem"><a class="el" href="namespaceapplication_1_1db.html">db</a></li><li class="navelem"><a class="el" href="namespaceapplication_1_1db_1_1notification.html">notification</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
